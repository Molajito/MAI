<?xml version="1.0" encoding="utf-8"?>
<model
        name="UserActivity"
        table="#__user_activity"
        primary_key="id"
        data_source="JDatabase">
    <fields>
        <field name="id" type="" null="0" default="" identity="1"/>
        <field name="user_id" type="int" null="0" default=""/>
        <field name="action_id" type="int" null="0" default=""/>
        <field name="catalog_id" type="int" null="0" default=""/>
        <field name="activity_datetime" type="datetime" null="0" default=""/>
    </fields>
    <joins>
        <join table="#__users" alias="b" select="username,first_name,last_name" jointo="id" joinwith="user_id"/>
        <join table="#__actions" alias="c" select="title" jointo="id" joinwith="action_id"/>
        <join table="#__catalog" alias="d" select="catalog_type_id,source_id,sef_request,view_group_id" jointo="id"
              joinwith="catalog_id"/>
        <join table="#__catalog_types" alias="e" select="title,source_table" jointo="id" joinwith="d.catalog_type_id"/>
    </joins>
    <triggers>
        <trigger name="Action"/>
    </triggers>
    <foreignkeys>
        <foreignkey name="user_id" source_id="id" source_model="Users" required="1"/>
        <foreignkey name="action_id" source_id="id" source_model="Actions" required="1"/>
        <foreignkey name="catalog_id" source_id="id" source_model="Catalog" required="1"/>
    </foreignkeys>
</model>
