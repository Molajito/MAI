// Force menu over full height
@media only screen and (min-width: $screenSmall) {
	[role="header"]+div {
		height: 100%;
		padding-top: $headerHeight + 1px;
		margin-top: - ($headerHeight + 1px);
		nav[role="navigation"] {
			@include single-box-shadow(rgba(0,0,0,.4), -2px, 1px, 2px, 0, true);
			&:before {
				margin-top: $headerHeight;
			}
			dl dd {
				background: darken($teal, 4);
				@include single-box-shadow(rgba(0,0,0,.4), -2px, 0, 2px, 0, true);
			}
		}
	}
}
nav[role="navigation"] {

	// @include border-left-radius(5px);
	// @include border-top-radius(0);

	@extend .column;
	@extend .three;

	@include transition-property(width);
	@include transition();

	background: $teal;
	color: $white;
	height: 100%;
	padding: 0;
	overflow: hidden;

	ul { list-style-type: none; }
	.level-two,
	.level-three {
		// display: none;
		background: darken($teal, 4);
		margin-bottom: 0;
		a {
			padding-left: 42px;
			&:hover {
				background: rgba(0,0,0,.2);
			}
		}
	}
	.link {
		border-bottom: 1px solid rgba(0,0,0,.3);
		border-top: 1px solid rgba(255,255,255,.3);
		&.level-one-child {
			position: relative;
			white-space: nowrap;
			&:first-child {
				border-top: 0;
			}
		}
	}
	.level-one>.current>span {
		@include cssTriangle(11px, rgba(0,0,0,.3), top);
		display: block;
		left: 9px;
		position: absolute;
		>span {
			@include cssTriangle(10px, $teal, top);
			left: -10px;
			position: absolute;
			top: -11px;
		}
	}
	// .level-one>.current>span>span {
	// 		@include cssTriangle(10px, $teal, top);
	// 		left: 1px;
	// 		position: absolute;
	//		top: 0;
	// }
	.icon {
		@include font-size(18);
		display: inline-block;
		width: 26px;
		font-style: normal;
		margin-right: 8px;
		text-align: center;
		&:before {
			@extend .glyph.general;
			@include text-shadow(-1px, -1px, 1px, 0, $black);
		}
	}

	i { @extend .icon; }

	// ul style menu
	li { @extend .link; }
	ul.level-one>li { @extend .level-one-child; }
	.level-one {
		#build i:before { content: "k"; }
		#resources i:before { content: "j"; }		
	}

	a {
		@include transition-property(width, color);
		@include transition();
		color: $white;
		display: block;
		padding: 7px 8px;
		// text-shadow($shadow-1, $shadow-2, $shadow-3, $shadow-4, $shadow-5, $shadow-6, $shadow-7, $shadow-8, $shadow-9, $shadow-10);
		// single-text-shadow($hoff, $voff, $blur, $spread, $color)
		span {
			@include text-shadow(rgba($black, 0.2) 1px 1px 0);
		}
	}

	// dl style menu
	dl {
		dt, li {
			@extend .link;
		}
	}
}

[role="main"] {

	@extend .column;
	@extend .fifteen;

	@include transition-property(width);
	@include transition();
}



#expand:target {
	nav[role="navigation"] {
		@extend .one;
		dt>a>span,
		dt>div,
		dd>ul { display: none; }
		&:hover {

			@extend .three;

			+[role="main"] { @extend .fifteen; }

			dt>a>span { display: inline; }
			dt>div,
			dd>ul { display: block; }
		}
	}
	[role="main"] {
		@extend .seventeen;
	}
	#expander {
		display: none;
	}
}
